{"version":3,"file":"js/44.328def6b.js","mappings":"gNAEEA,EAAAA,EAAAA,GAKM,OALDC,MAAM,WAAS,EAClBD,EAAAA,EAAAA,GAA6E,OAAxEC,MAAM,+DACXD,EAAAA,EAAAA,GAEM,OAFDC,MAAM,oBAAkB,EAC3BD,EAAAA,EAAAA,GAA6B,MAAzBC,MAAM,WAAU,YAHxB,G,GAMKA,MAAM,a,GACJA,MAAM,Q,uaAsBJA,MAAM,oC,SAEFA,MAAM,e,GACJA,MAAM,c,GACTD,EAAAA,EAAAA,GAEM,OAFDC,MAAM,yDAAuD,EAChED,EAAAA,EAAAA,GAAqC,MAAjCC,MAAM,mBAAkB,UAD9B,G,GAGKA,MAAM,Q,mBAGFA,MAAM,S,GACJA,MAAM,kC,GACNA,MAAM,gB,GACNA,MAAM,Q,GAERA,MAAM,qB,GAGNA,MAAM,uC,GAGPD,EAAAA,EAAAA,GAAsE,MAAlEE,MAAM,MAAMD,MAAM,yCAAwC,OAAG,G,GAC7DA,MAAM,+B,GAIXA,MAAM,uC,GACTD,EAAAA,EAAAA,GAAmC,KAAhCC,MAAM,mBAAkB,QAAI,G,GAC5BA,MAAM,gC,GAIVA,MAAM,c,GACTD,EAAAA,EAAAA,GAEM,OAFDC,MAAM,yDAAuD,EAChED,EAAAA,EAAAA,GAAqC,MAAjCC,MAAM,mBAAkB,UAD9B,G,GAIOA,MAAM,Q,GACTD,EAAAA,EAAAA,GAAkD,SAA3CG,IAAI,QAAQF,MAAM,cAAa,QAAI,G,GAOvCA,MAAM,Q,GACTD,EAAAA,EAAAA,GAAkD,SAA3CG,IAAI,OAAOF,MAAM,cAAa,SAAK,G,GAMvCA,MAAM,Q,GACTD,EAAAA,EAAAA,GAAiD,SAA1CG,IAAI,MAAMF,MAAM,cAAa,SAAK,G,GAMtCA,MAAM,Q,GACTD,EAAAA,EAAAA,GAAqD,SAA9CG,IAAI,UAAUF,MAAM,cAAa,SAAK,G,GAM1CA,MAAM,Q,GACTD,EAAAA,EAAAA,GAAkD,SAA3CG,IAAI,UAAUF,MAAM,cAAa,MAAE,G,GAIvCA,MAAM,Y,kBAKDA,MAAM,mCACVG,KAAK,U,WACA,U,qKA5GzBC,EAAAA,EAAAA,IAAiCC,EAAA,CAApBC,OAAQC,EAAAA,WAAS,mBAC9BC,GAMAT,EAAAA,EAAAA,GA+GM,MA/GN,EA+GM,EA9GJA,EAAAA,EAAAA,GA6GM,MA7GN,EA6GM,CA5GJU,GAqBAV,EAAAA,EAAAA,GAsFM,MAtFN,EAsFM,CArFYQ,EAAAA,SAASG,QAAAA,EAAAA,EAAAA,OACvBC,EAAAA,EAAAA,IAkFM,MAlFN,EAkFM,EAjFJZ,EAAAA,EAAAA,GA4BM,MA5BN,EA4BM,CA3BJa,GAGAb,EAAAA,EAAAA,GAuBM,MAvBN,EAuBM,gBAtBJY,EAAAA,EAAAA,IASME,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IATkCP,EAAAA,SAASG,OAAjBK,K,WAAhCJ,EAAAA,EAAAA,IASM,OATDX,MAAM,cAA8CgB,IAAKD,EAAKE,IAAnE,EACElB,EAAAA,EAAAA,GAAqF,OAA/EmB,IAAKH,EAAKI,QAAQC,SAAWC,IAAKN,EAAKI,QAAQG,MAAOtB,MAAM,oBAAlE,WACAD,EAAAA,EAAAA,GAMM,MANN,EAMM,EALJA,EAAAA,EAAAA,GAGM,MAHN,EAGM,EAFJA,EAAAA,EAAAA,GAAoD,IAApD,GAAoDwB,EAAAA,EAAAA,IAAzBR,EAAKI,QAAQG,OAAK,IAC7CvB,EAAAA,EAAAA,GAA+C,IAA/C,EAAgB,OAAGwB,EAAAA,EAAAA,IAAGR,EAAKI,QAAQK,OAAK,MAE1CzB,EAAAA,EAAAA,GAAgD,IAAhD,GAAgDwB,EAAAA,EAAAA,IAAhBR,EAAKU,KAAM,IAAC,UAPhD,OAUA1B,EAAAA,EAAAA,GAOQ,QAPR,EAOQ,EANNA,EAAAA,EAAAA,GAKQ,eAJNA,EAAAA,EAAAA,GAGK,WAFH2B,GACA3B,EAAAA,EAAAA,GAAoE,KAApE,EAAwC,OAAGwB,EAAAA,EAAAA,IAAGhB,EAAAA,SAASoB,OAAK,UAIlE5B,EAAAA,EAAAA,GAGM,MAHN,EAGM,CAFJ6B,GACA7B,EAAAA,EAAAA,GAAmE,IAAnE,EAAwC,OAAGwB,EAAAA,EAAAA,IAAGhB,EAAAA,SAASoB,OAAK,UAIlE5B,EAAAA,EAAAA,GAmDM,MAnDN,EAmDM,CAlDJ8B,GAGAzB,EAAAA,EAAAA,IA8CU0B,EAAA,CA9CDC,IAAI,OAA4BC,SAAM,eAAEC,EAAAA,aAAjD,C,kBACE,EAD4BC,OAAAA,KAAM,EAClCnC,EAAAA,EAAAA,GAOM,MAPN,EAOM,CANJoC,GACA/B,EAAAA,EAAAA,IAGwCgC,EAAA,CAH9BnB,GAAG,QAAQoB,KAAK,QAAQC,KAAK,QAAQtC,OAAK,SAAC,eAAc,cACzCkC,EAAO,YAC/BK,YAAY,UAAUC,MAAM,iB,WACnBjC,EAAAA,KAAKkC,KAAKC,M,qCAAVnC,EAAAA,KAAKkC,KAAKC,MAAKC,IAH1B,gCAIAvC,EAAAA,EAAAA,IAAmEwC,EAAA,CAArDP,KAAK,QAAQrC,MAAM,wBAEnCD,EAAAA,EAAAA,GAMM,MANN,EAMM,CALJ8C,GACAzC,EAAAA,EAAAA,IAE2EgC,EAAA,CAFjEnB,GAAG,OAAOoB,KAAK,KAAKC,KAAK,OAAOtC,OAAK,SAAC,eAAc,cACpCkC,EAAO,SAC/BK,YAAY,QAAQC,MAAM,W,WAAoBjC,EAAAA,KAAKkC,KAAKJ,K,qCAAV9B,EAAAA,KAAKkC,KAAKJ,KAAIM,IAF9D,gCAGAvC,EAAAA,EAAAA,IAAgEwC,EAAA,CAAlDP,KAAK,KAAKrC,MAAM,wBAEhCD,EAAAA,EAAAA,GAMM,MANN,EAMM,CALJ+C,GACA1C,EAAAA,EAAAA,IAE2EgC,EAAA,CAFjEnB,GAAG,MAAMoB,KAAK,KAAKC,KAAK,OAAOtC,OAAK,SAAC,eAAc,cACnCkC,EAAO,SAC/BK,YAAY,QAAUC,MAAOP,EAAAA,Q,WAAkB1B,EAAAA,KAAKkC,KAAKM,I,qCAAVxC,EAAAA,KAAKkC,KAAKM,IAAGJ,IAF9D,wCAGAvC,EAAAA,EAAAA,IAAgEwC,EAAA,CAAlDP,KAAK,KAAKrC,MAAM,wBAEhCD,EAAAA,EAAAA,GAMM,MANN,EAMM,CALJiD,GACA5C,EAAAA,EAAAA,IAE8EgC,EAAA,CAFpEnB,GAAG,UAAUoB,KAAK,KAAKC,KAAK,OAAOtC,OAAK,SAAC,eAAc,cACvCkC,EAAO,SAC/BK,YAAY,QAAQC,MAAM,W,WAAoBjC,EAAAA,KAAKkC,KAAKQ,Q,qCAAV1C,EAAAA,KAAKkC,KAAKQ,QAAON,IAFjE,gCAGAvC,EAAAA,EAAAA,IAAgEwC,EAAA,CAAlDP,KAAK,KAAKrC,MAAM,wBAEhCD,EAAAA,EAAAA,GAIM,MAJN,EAIM,CAHJmD,GAGI,SAFJnD,EAAAA,EAAAA,GACoC,YAD1BkB,GAAG,UAAUjB,MAAM,eAAemD,KAAK,KAAKC,KAAK,K,qCAChD7C,EAAAA,KAAK8C,QAAOV,IADvB,iBACWpC,EAAAA,KAAK8C,cAElBtD,EAAAA,EAAAA,GAUM,MAVN,EAUM,EATJA,EAAAA,EAAAA,GAQS,UAPPuC,KAAK,SACLtC,MAAM,kBACLsD,SAAoB,SAAV/C,EAAAA,YAHb,WAIER,EAAAA,EAAAA,GAEO,OAFP,EAEO,iBAD2B,SAAVQ,EAAAA,cACjB,GANT,U,KApCJ,WAlCJ,sBAzBR,I,cAqHF,GACEgD,OACE,MAAO,CACLC,SAAU,GACVC,WAAW,EACXC,KAAM,CACJjB,KAAM,CACJC,MAAO,GACPL,KAAM,GACNY,QAAS,GACTU,MAAO,IAETN,QAAS,IAEXO,WAAY,KAGhBC,QAAS,CACPC,UACEC,KAAKN,WAAY,EACjBM,KAAKC,MAAMC,IAAK,6DACbC,MAAMC,IACLJ,KAAKP,SAAWW,EAASZ,KAAKA,KAC9BQ,KAAKN,WAAY,KAElBW,OAAOC,IACNN,KAAKO,QAAQC,KAAK,eAAgB,CAChCC,MAAO,SACPlD,MAAO,SACPmD,QAASJ,EAAMF,SAASZ,KAAKF,cAIrCqB,WACEX,KAAKC,MAAMW,KAAM,6DAAkE,CAAEpB,KAAMQ,KAAKL,OAC7FQ,MAAMC,IACLJ,KAAKD,UACLQ,EAAAA,EAAAA,KAAa,YACbP,KAAKN,WAAY,EACjBM,KAAKa,QAAQC,KAAK,gBAEnBT,OAAOC,IACNN,KAAKO,QAAQC,KAAK,eAAgB,CAChCC,MAAO,SACPlD,MAAO,OACPmD,QAASJ,EAAMF,SAASZ,KAAKF,cAIrCyB,QAASC,GACP,MAAMC,EAAc,iBACpB,QAAOA,EAAYC,KAAKF,IAAgB,aAE1CG,WAAYH,GACV,QAAOA,GAAe,2BAG1BI,UACEpB,KAAKD,Y,UClLT,MAAMsB,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE","sources":["webpack://island-travel/./src/views/ConfirmView.vue","webpack://island-travel/./src/views/ConfirmView.vue?5ee1"],"sourcesContent":["<template>\n  <VueLoading :active=\"isLoading\"/>\n  <div class=\"section\">\n    <div class=\"position-absolute background-image background-image--cart\"></div>\n    <div class=\"background-title\">\n      <h2 class=\"fw-bold\">填寫資料</h2>\n    </div>\n  </div>\n  <div class=\"container\">\n    <div class=\"mt-5\">\n      <ul class=\"p-steps list-unstyled mb-5\">\n        <li class=\"col-4 mb-md-0 mb-3\">\n          <small>STEP1</small>\n          <p>購物車</p>\n        </li>\n        <li class=\"col-4 mb-md-0 mb-3 is-active\">\n          <small>STEP2</small>\n          <p>填寫資料</p>\n        </li>\n        <li class=\"col-4\">\n          <small>STEP3</small>\n          <p>完成訂單</p>\n        </li>\n      </ul>\n      <div class=\"row\">\n        <div class=\"col-md-12\">\n          <div class=\"d-flex justify-content-center align-items-center mb-5\">\n            <h3 class=\"section-heading\">填寫資料</h3>\n          </div>\n        </div>\n      </div>\n      <div class=\"row justify-content-between pb-5\">\n        <template v-if=\"cartData.carts\">\n          <div class=\"cart__order\">\n            <div class=\"cart__info\">\n              <div class=\"d-flex justify-content-center align-items-center mb-5\">\n                <h3 class=\"section-heading\">訂單摘要</h3>\n              </div>\n              <div class=\"my-4\">\n                <div class=\"d-flex mb-3\" v-for=\"item in cartData.carts\" :key=\"item.id\">\n                  <img :src=\"item.product.imageUrl\" :alt=\"item.product.title\" class=\"me-3 cart__image\">\n                  <div class=\"w-100\">\n                    <div class=\"d-flex justify-content-between\">\n                      <p class=\"mb-0 fw-bold\">{{ item.product.title }}</p>\n                      <p class=\"mb-0\">NT${{ item.product.price }}</p>\n                    </div>\n                    <p class=\"mb-0 fw-bold mt-4\">{{ item.qty }}人</p>\n                  </div>\n                </div>\n                <table class=\"table mt-4 border-top border-bottom\">\n                  <tbody>\n                    <tr>\n                      <th scope=\"row\" class=\"border-0 px-0 pt-4 font-weight-normal\">總金額</th>\n                      <td class=\"text-end border-0 px-0 pt-4\">NT${{ cartData.total }}</td>\n                    </tr>\n                  </tbody>\n                </table>\n                <div class=\"d-flex justify-content-between mt-4\">\n                  <p class=\"mb-0 h4 fw-bold\">訂單金額</p>\n                  <p class=\"mb-0 h4 fw-bold text-primary\">NT${{ cartData.total }}</p>\n                </div>\n              </div>\n            </div>\n            <div class=\"cart__form\">\n              <div class=\"d-flex justify-content-center align-items-center mb-5\">\n                <h3 class=\"section-heading\">填寫資料</h3>\n              </div>\n              <VueForm ref=\"form\" v-slot=\"{ errors }\" @submit=\"putOrder()\">\n                <div class=\"mb-3\">\n                  <label for=\"email\" class=\"form-label\">電子郵件</label>\n                  <VueField id=\"email\" name=\"email\" type=\"email\" class=\"form-control\"\n                    :class=\"{ 'is-invalid': errors['email'] }\"\n                    placeholder=\"請輸入電子郵件\" rules=\"email|required\"\n                    v-model=\"form.user.email\" ></VueField>\n                  <ErrorMessage name=\"email\" class=\"invalid-feedback\"></ErrorMessage>\n                </div>\n                <div class=\"mb-3\">\n                  <label for=\"name\" class=\"form-label\">收件人姓名</label>\n                  <VueField id=\"name\" name=\"姓名\" type=\"text\" class=\"form-control\"\n                    :class=\"{ 'is-invalid': errors['姓名'] }\"\n                    placeholder=\"請輸入姓名\" rules=\"required\" v-model=\"form.user.name\"></VueField>\n                  <ErrorMessage name=\"姓名\" class=\"invalid-feedback\"></ErrorMessage>\n                </div>\n                <div class=\"mb-3\">\n                  <label for=\"tel\" class=\"form-label\">收件人電話</label>\n                  <VueField id=\"tel\" name=\"電話\" type=\"text\" class=\"form-control\"\n                    :class=\"{ 'is-invalid': errors['電話'] }\"\n                    placeholder=\"請輸入電話\"  :rules=\"isPhone\" v-model=\"form.user.tel\"></VueField>\n                  <ErrorMessage name=\"電話\" class=\"invalid-feedback\"></ErrorMessage>\n                </div>\n                <div class=\"mb-3\">\n                  <label for=\"address\" class=\"form-label\">收件人地址</label>\n                  <VueField id=\"address\" name=\"地址\" type=\"text\" class=\"form-control\"\n                    :class=\"{ 'is-invalid': errors['地址'] }\"\n                    placeholder=\"請輸入地址\" rules=\"required\" v-model=\"form.user.address\"></VueField>\n                  <ErrorMessage name=\"地址\" class=\"invalid-feedback\"></ErrorMessage>\n                </div>\n                <div class=\"mb-3\">\n                  <label for=\"message\" class=\"form-label\">留言</label>\n                  <textarea id=\"message\" class=\"form-control\" cols=\"30\" rows=\"10\"\n                    v-model=\"form.message\"></textarea>\n                </div>\n                <div class=\"text-end\">\n                  <button\n                    type=\"submit\"\n                    class=\"btn btn-primary\"\n                    :disabled=\"isDisabled === 'send'\">\n                    <span class=\"spinner-border spinner-border-sm\"\n                      role=\"status\" v-show=\"isDisabled === 'send'\">\n                    </span>\n                    送出訂單\n                  </button>\n                </div>\n              </VueForm>\n            </div>\n          </div>\n        </template>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport emitter from '@/libs/emitter'\n\nexport default {\n  data () {\n    return {\n      cartData: {},\n      isLoading: false,\n      form: {\n        user: {\n          email: '',\n          name: '',\n          address: '',\n          phone: ''\n        },\n        message: ''\n      },\n      isDisabled: ''\n    }\n  },\n  methods: {\n    getCart () {\n      this.isLoading = true\n      this.$http.get(`${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`)\n        .then((response) => {\n          this.cartData = response.data.data\n          this.isLoading = false\n        })\n        .catch((error) => {\n          this.emitter.emit('push-message', {\n            style: 'danger',\n            title: '無法取得商品',\n            content: error.response.data.message\n          })\n        })\n    },\n    putOrder () {\n      this.$http.post(`${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/order`, { data: this.form })\n        .then((response) => {\n          this.getCart()\n          emitter.emit('get-cart')\n          this.isLoading = true\n          this.$router.push('/complete')\n        })\n        .catch((error) => {\n          this.emitter.emit('push-message', {\n            style: 'danger',\n            title: '訂購失敗',\n            content: error.response.data.message\n          })\n        })\n    },\n    isPhone (value) {\n      const phoneNumber = /^(09)[0-9]{8}$/\n      return phoneNumber.test(value) ? true : '需要正確的電話號碼'\n    },\n    isRequired (value) {\n      return value ? true : 'This field is required'\n    }\n  },\n  mounted () {\n    this.getCart()\n  }\n}\n</script>\n","import { render } from \"./ConfirmView.vue?vue&type=template&id=75beb97a\"\nimport script from \"./ConfirmView.vue?vue&type=script&lang=js\"\nexport * from \"./ConfirmView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/wangangel/project/island-travel/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["_createElementVNode","class","scope","for","role","_createVNode","_component_VueLoading","active","$data","_hoisted_1","_hoisted_4","carts","_createElementBlock","_hoisted_9","_Fragment","_renderList","item","key","id","src","product","imageUrl","alt","title","_toDisplayString","price","qty","_hoisted_18","total","_hoisted_21","_hoisted_24","_component_VueForm","ref","onSubmit","$options","errors","_hoisted_26","_component_VueField","name","type","placeholder","rules","user","email","$event","_component_ErrorMessage","_hoisted_28","_hoisted_30","tel","_hoisted_32","address","_hoisted_34","cols","rows","message","disabled","data","cartData","isLoading","form","phone","isDisabled","methods","getCart","this","$http","get","then","response","catch","error","emitter","emit","style","content","putOrder","post","$router","push","isPhone","value","phoneNumber","test","isRequired","mounted","__exports__","render"],"sourceRoot":""}