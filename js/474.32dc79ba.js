"use strict";(self["webpackChunkisland_travel"]=self["webpackChunkisland_travel"]||[]).push([[474],{474:function(e,s,t){t.r(s),t.d(s,{default:function(){return y}});var r=t(6252),a=t(9963);const n=(0,r._)("div",{class:"section"},[(0,r._)("div",{class:"background-image background-image--complete"}),(0,r._)("div",{class:"background-title"},[(0,r._)("h2",{class:"fw-bold"},"登入後台")])],-1),o={class:"container mt-5"},i={class:"row justify-content-center"},l=(0,r._)("h1",{class:"h3 mb-3 font-weight-normal text-center"},"登入頁面",-1),u={class:"col-12 col-md-6"},c={class:"form-floating mb-3"},d=(0,r._)("label",{for:"username"},"電子信箱",-1),m={class:"form-floating"},p=(0,r._)("label",{for:"password"},"密碼",-1),h=["disabled"],b=(0,r.Uk)("回到首頁"),f=(0,r._)("p",{class:"mt-5 mb-3 text-muted text-center"},"© 2021~∞ 島遊",-1);function g(e,s,t,g,w,_){const v=(0,r.up)("FrontNavbar"),k=(0,r.up)("RouterLink");return(0,r.wg)(),(0,r.iD)(r.HY,null,[n,(0,r._)("div",o,[(0,r.Wm)(v),(0,r._)("div",i,[l,(0,r._)("div",u,[(0,r._)("form",{id:"form",class:"form-signin",onSubmit:s[2]||(s[2]=(0,a.iM)(((...e)=>_.login&&_.login(...e)),["prevent"]))},[(0,r._)("div",c,[(0,r.wy)((0,r._)("input",{type:"email",class:"form-control","onUpdate:modelValue":s[0]||(s[0]=e=>w.user.username=e),placeholder:"name@example.com",required:"",autofocus:""},null,512),[[a.nr,w.user.username]]),d]),(0,r._)("div",m,[(0,r.wy)((0,r._)("input",{type:"password",class:"form-control","onUpdate:modelValue":s[1]||(s[1]=e=>w.user.password=e),placeholder:"Password",required:"",autocomplete:""},null,512),[[a.nr,w.user.password]]),p]),(0,r._)("button",{class:"btn btn-lg btn-primary w-100 mt-3",id:"login",type:"submit",disabled:""===this.user.username||""===this.user.password}," 登入 ",8,h),(0,r.Wm)(k,{class:"btn btn-lg btn-primary w-100 mt-3",to:"/"},{default:(0,r.w5)((()=>[b])),_:1})],32)])]),f])],64)}var w=t(9176),_={data(){return{user:{username:"",password:""}}},components:{FrontNavbar:w.Z},inject:["emitter"],methods:{login(){this.$http.post("https://vue3-course-api.hexschool.io/v2/admin/signin",this.user).then((e=>{const{token:s,expired:t}=e.data;document.cookie=`hexToken=${s}; expires=${new Date(t)};`,this.$router.push("/admin/products")})).catch((e=>{this.emitter.emit("push-message",{style:"danger",title:"登入失敗",content:e.response.data.message}),this.user.password=""}))}}},v=t(3744);const k=(0,v.Z)(_,[["render",g]]);var y=k}}]);
//# sourceMappingURL=474.32dc79ba.js.map