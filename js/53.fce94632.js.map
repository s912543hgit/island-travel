{"version":3,"file":"js/53.fce94632.js","mappings":"4LACOA,MAAM,+C,GACJA,MAAM,mB,WACoC,M,GAC7CC,EAAAA,EAAAA,GAES,UAFDD,MAAM,iBAAiBE,KAAK,SAAS,iBAAe,WAAW,iBAAe,aAAa,gBAAc,YAAY,gBAAc,QAAQ,aAAW,qBAA9J,EACED,EAAAA,EAAAA,GAAyC,QAAnCD,MAAM,0BADd,G,GAGKA,MAAM,2BAA2BG,GAAG,a,GACnCH,MAAM,c,GACJA,MAAM,Y,WAC4B,M,GAElCA,MAAM,Y,WAC0C,Q,GAEhDA,MAAM,Y,WACwC,M,GAE9CA,MAAM,Y,WACuC,Q,GAE7CA,MAAM,Y,GAMhBC,EAAAA,EAAAA,GAEM,aADJA,EAAAA,EAAAA,GAAW,SAAR,UADL,G,sHA1BFA,EAAAA,EAAAA,GA6BI,MA7BJ,EA6BI,EA5BFA,EAAAA,EAAAA,GAwBM,MAxBN,EAwBM,EAvBJG,EAAAA,EAAAA,IAA4DC,EAAA,CAAhDL,MAAM,eAAeM,GAAG,UAApC,C,kBAA6C,IAAE,M,MAC/CC,GAGAN,EAAAA,EAAAA,GAkBM,MAlBN,EAkBM,EAjBJA,EAAAA,EAAAA,GAgBK,KAhBL,EAgBK,EAfHA,EAAAA,EAAAA,GAEK,KAFL,EAEK,EADHG,EAAAA,EAAAA,IAAmDC,EAAA,CAAvCL,MAAM,WAAWM,GAAG,KAAhC,C,kBAAoC,IAAE,M,SAExCL,EAAAA,EAAAA,GAEK,KAFL,EAEK,EADHG,EAAAA,EAAAA,IAAmEC,EAAA,CAAvDL,MAAM,WAAWM,GAAG,mBAAhC,C,kBAAkD,IAAI,M,SAExDL,EAAAA,EAAAA,GAEK,KAFL,EAEK,EADHG,EAAAA,EAAAA,IAA+DC,EAAA,CAAnDL,MAAM,WAAWM,GAAG,iBAAhC,C,kBAAgD,IAAE,M,SAEpDL,EAAAA,EAAAA,GAEK,KAFL,EAEK,EADHG,EAAAA,EAAAA,IAAgEC,EAAA,CAApDL,MAAM,WAAWM,GAAG,gBAAhC,C,kBAA+C,IAAI,M,SAErDL,EAAAA,EAAAA,GAEK,KAFL,EAEK,EADHA,EAAAA,EAAAA,GAA0C,KAAvCD,MAAM,WAAYQ,QAAK,oBAAEC,EAAAA,QAAAA,EAAAA,UAAAA,KAAQ,cAK5CC,IAIcC,EAAAA,eAAAA,EAAAA,EAAAA,OAAlBC,EAAAA,EAAAA,IAAiCC,EAAA,CAAAC,IAAAA,MAAjC,oBAIA,OACEC,OACE,MAAO,CACLC,cAAc,IAGlBC,OAAQ,CAAC,WACTC,QAAS,CACPC,aACE,MAAMC,EAAQC,SAASC,OAAOC,QAC5B,iDACA,MAGEH,GAEFI,KAAKC,MAAMC,SAASC,QAAQC,OAAOC,cAAiB,GAAET,IACtDI,KAAKC,MAAMK,KAAM,yDAA2C,CAAEC,UAAWP,KAAKJ,QAC3EY,MAAMC,IACLT,KAAKR,cAAe,KAErBkB,OAAOC,IACNX,KAAKY,QAAQC,KAAK,eAAgB,CAChCC,MAAO,SACPC,MAAO,OACPC,QAASL,EAAMF,SAASlB,KAAK0B,UAE/BjB,KAAKkB,QAAQC,KAAK,eAGtBnB,KAAKY,QAAQC,KAAK,eAAgB,CAChCE,MAAO,UAETf,KAAKkB,QAAQC,KAAK,YAGtBC,SAEEvB,SAASC,OAAS,sBAClBE,KAAKY,QAAQC,KAAK,eAAgB,CAChCE,MAAO,UAETf,KAAKkB,QAAQC,KAAK,YAGtBE,UACErB,KAAKL,e,UC5ET,MAAM2B,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE","sources":["webpack://island-travel/./src/views/Dashboard/DashboardView.vue","webpack://island-travel/./src/views/Dashboard/DashboardView.vue?c545"],"sourcesContent":["<template>\n  <nav class=\"navbar navbar-expand-lg navbar-dark bg-dark\">\n    <div class=\"container-fluid\">\n      <RouterLink class=\"navbar-brand\" to=\"/admin\">後台</RouterLink>\n      <button class=\"navbar-toggler\" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#navbarNav\" aria-controls=\"navbarNav\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\n        <span class=\"navbar-toggler-icon\"></span>\n      </button>\n      <div class=\"collapse navbar-collapse\" id=\"navbarNav\">\n        <ul class=\"navbar-nav\">\n          <li class=\"nav-item\">\n            <RouterLink class=\"nav-link\" to=\"/\">前台</RouterLink>\n          </li>\n          <li class=\"nav-item\">\n            <RouterLink class=\"nav-link\" to=\"/admin/products\">產品列表</RouterLink>\n          </li>\n          <li class=\"nav-item\">\n            <RouterLink class=\"nav-link\" to=\"/admin/orders\">訂單</RouterLink>\n          </li>\n          <li class=\"nav-item\">\n            <RouterLink class=\"nav-link\" to=\"/admin/image\">圖片上傳</RouterLink>\n          </li>\n          <li class=\"nav-item\">\n            <a class=\"nav-link\" @click=\"logout\">登出</a>\n          </li>\n        </ul>\n      </div>\n    </div>\n    <div>\n      <p>圖片上傳</p>\n    </div>\n</nav>\n<RouterView v-if=\"checkSuccess\"/>\n</template>\n\n<script>\nexport default {\n  data () {\n    return {\n      checkSuccess: false\n    }\n  },\n  inject: ['emitter'],\n  methods: {\n    checkLogin () {\n      const token = document.cookie.replace(\n        /(?:(?:^|.*;\\s*)hexToken\\s*=\\s*([^;]*).*$)|^.*$/,\n        '$1'\n      )\n      // 如果token符合\n      if (token) {\n        // 把token夾帶到header裡面\n        this.$http.defaults.headers.common.Authorization = `${token}`\n        this.$http.post(`${process.env.VUE_APP_API}api/user/check`, { api_token: this.token })\n          .then((response) => {\n            this.checkSuccess = true\n          })\n          .catch((error) => {\n            this.emitter.emit('push-message', {\n              style: 'danger',\n              title: '登入失敗',\n              content: error.response.data.message\n            })\n            this.$router.push('/login')\n          })\n      } else {\n        this.emitter.emit('push-message', {\n          title: '您尚未登入'\n        })\n        this.$router.push('/login')\n      }\n    },\n    logout () {\n      // 刪除cookie\n      document.cookie = 'hexToken=;expires=;'\n      this.emitter.emit('push-message', {\n        title: '您已經登出'\n      })\n      this.$router.push('/login')\n    }\n  },\n  mounted () {\n    this.checkLogin()\n  }\n}\n</script>\n","import { render } from \"./DashboardView.vue?vue&type=template&id=92542b50\"\nimport script from \"./DashboardView.vue?vue&type=script&lang=js\"\nexport * from \"./DashboardView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/wangangel/project/island-travel/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","type","id","_createVNode","_component_RouterLink","to","_hoisted_4","onClick","$options","_hoisted_16","$data","_createBlock","_component_RouterView","key","data","checkSuccess","inject","methods","checkLogin","token","document","cookie","replace","this","$http","defaults","headers","common","Authorization","post","api_token","then","response","catch","error","emitter","emit","style","title","content","message","$router","push","logout","mounted","__exports__","render"],"sourceRoot":""}