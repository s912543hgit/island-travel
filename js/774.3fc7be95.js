"use strict";(self["webpackChunkisland_travel"]=self["webpackChunkisland_travel"]||[]).push([[774],{5774:function(t,e,s){s.r(e),s.d(e,{default:function(){return ot}});var i=s(6252),a=s(3577),l=s(9963);const c={class:"container"},d={class:"row align-items-center"},o={class:"col-md-7"},r={class:"col-md-5"},u={"aria-label":"breadcrumb"},n={class:"breadcrumb px-0 mb-0 py-3 mt-3"},p={class:"breadcrumb-item"},m=(0,i.Uk)("島遊"),h={class:"breadcrumb-item"},g={class:"breadcrumb-item active","aria-current":"page"},_={class:"fw-bold h1 mb-3 mt-3 mt-md-0"},v={class:"row align-items-center"},w={class:"text-muted col-6"},b=(0,i.Uk)("原價"),y={class:"text-end col-6"},f=(0,i.Uk)("特價"),k={class:"h4 fw-bold text-primary ms-2"},x={key:0},$={key:0,class:"bi bi-suit-heart-fill"},q={key:1,class:"bi bi-suit-heart"},D=(0,i._)("ul",{class:"list-unstyled mt-3"},[(0,i._)("li",null,"費用已含機場稅、燃油費"),(0,i._)("li",null,"三人即可成團"),(0,i._)("li",null,"若需當地專業嚮導請洽客服電話")],-1),z={class:"row align-items-center"},j={class:"col-6"},U={class:"input-group"},I=(0,i._)("option",{value:"0",disabled:""},"請選擇人數",-1),L=["value","selected"],S={class:"col-6"},W=["disabled"],C={class:"spinner-border spinner-border-sm",role:"status"},N=(0,i.Uk)(" 加入購物車 "),O={class:"my-5"},T={class:"col-md-12"},H=(0,i._)("div",{class:"d-flex justify-content-center align-items-center mb-5"},[(0,i._)("h3",{class:"section-heading"},"島嶼介紹")],-1),P={key:0,class:"my-5"},Y={class:"col-md-12"},F=(0,i._)("div",{class:"d-flex justify-content-center align-items-center mb-5"},[(0,i._)("h3",{class:"section-heading"},"精選景點")],-1),K={class:"list-unstyled"},M={class:"mb-5"},V={class:"fs-5 product__subtitle"},J={key:0},Z={class:"fs-5 product__subtitle"},E=(0,i.uE)('<div class="my-5"><div class="col-md-12"><div class="d-flex justify-content-center align-items-center mb-5"><h3 class="section-heading">注意事項</h3></div><ul class="rule-list"><li>此旅程的取消期限為1個月前，若有取消或人數變更請您主動聯繫客服，如逾期將會收取取消費用。詳情請參考下列取消政策。</li><li>產品結帳後我們將會於24小時內寄送相關電子郵件至您的信箱，請妥善保管。</li><li>若因天候不佳而致旅客無法盡興遊玩時，<br class="d-md-none">請您聯絡客服，我們將會有專人為您提供替代方案。</li><li>出發前請先查詢好當地氣候，並準備合適衣物。</li></ul></div></div><div class="my-5"><div class="col-md-12"><div class="d-flex justify-content-center align-items-center mb-5"><h3 class="section-heading">取消政策</h3></div><ul class="rule-list"><li>於30天前取消，將不會收取取消費用。</li><li>於30天~14天前取消，將酌收整體費用的20%</li><li>於14天~7天前取消，將酌收整體費用的50%</li><li>於7天前取消，將酌收整體費用的100%</li></ul></div></div>',2),R={class:"container-md"},A=(0,i._)("div",{class:"d-flex justify-content-center align-items-center mb-5"},[(0,i._)("h3",{class:"section-heading"},"相關商品")],-1),B={class:"p-card"},G={class:"p-card__tag"},Q=(0,i._)("div",{class:"btn btn-primary px-5"},"查看商品",-1),X={class:"d-flex justify-content-between"},tt={class:"p-card__text"};function et(t,e,s,et,st,it){const at=(0,i.up)("VueLoading"),lt=(0,i.up)("Swiper-slide"),ct=(0,i.up)("Swiper"),dt=(0,i.up)("RouterLink");return(0,i.wg)(),(0,i.iD)(i.HY,null,[st.product.imageUrl?((0,i.wg)(),(0,i.iD)("div",{key:0,class:"background-image--product",style:(0,a.j5)({backgroundImage:`url(${st.product.imageUrl})`})},null,4)):(0,i.kq)("",!0),(0,i.Wm)(at,{active:st.isLoading},null,8,["active"]),(0,i._)("div",c,[(0,i._)("div",d,[(0,i._)("div",o,[(0,i.Wm)(ct,{class:"container-md slider--product","slides-per-view":1,"space-between":50,pagination:!0,modules:et.modules,navigation:!0},{default:(0,i.w5)((()=>[(0,i.Wm)(lt,null,{default:(0,i.w5)((()=>[st.product.imageUrl?((0,i.wg)(),(0,i.iD)("div",{key:0,class:"product__image",style:(0,a.j5)({backgroundImage:`url(${st.product.imageUrl})`})},null,4)):(0,i.kq)("",!0)])),_:1}),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(st.product.imagesUrl,(t=>((0,i.wg)(),(0,i.j4)(lt,{key:t},{default:(0,i.w5)((()=>[(0,i._)("div",{class:"product__image",style:(0,a.j5)({backgroundImage:`url(${t})`})},null,4)])),_:2},1024)))),128))])),_:1},8,["modules"])]),(0,i._)("div",r,[(0,i._)("nav",u,[(0,i._)("ol",n,[(0,i._)("li",p,[(0,i.Wm)(dt,{class:"text-muted",to:"/"},{default:(0,i.w5)((()=>[m])),_:1})]),(0,i._)("li",h,[(0,i.Wm)(dt,{class:"text-muted",to:"/products"},{default:(0,i.w5)((()=>[(0,i.Uk)((0,a.zw)(st.product.category),1)])),_:1})]),(0,i._)("li",g,(0,a.zw)(st.product.title),1)])]),(0,i._)("h2",_,(0,a.zw)(st.product.title),1),(0,i._)("div",v,[(0,i._)("p",w,[b,(0,i._)("del",null,"NT$"+(0,a.zw)(st.product.origin_price),1)]),(0,i._)("p",y,[f,(0,i._)("span",k,"NT$"+(0,a.zw)(st.product.price),1)])]),(0,i._)("a",{href:"#",class:"border rounded-circle p-2 me-4",onClick:e[0]||(e[0]=(0,l.iM)((t=>it.toggleFavorite(st.product.id)),["prevent"]))},[st.favorite.includes(st.product.id)?((0,i.wg)(),(0,i.iD)("span",x,[st.favorite.includes(st.product.id)?((0,i.wg)(),(0,i.iD)("i",$)):(0,i.kq)("",!0)])):((0,i.wg)(),(0,i.iD)("i",q))]),D,(0,i._)("div",z,[(0,i._)("div",j,[(0,i._)("div",U,[(0,i.wy)((0,i._)("select",{class:"form-select","onUpdate:modelValue":e[1]||(e[1]=t=>st.product.qty=t)},[I,((0,i.wg)(),(0,i.iD)(i.HY,null,(0,i.Ko)(20,(t=>(0,i._)("option",{value:t,selected:st.product.qty===t,key:`${t}-${st.product.id}`},(0,a.zw)(t),9,L))),64))],512),[[l.bM,st.product.qty]])])]),(0,i._)("div",S,[(0,i._)("button",{type:"button",class:"text-nowrap btn btn-primary w-100 py-2",onClick:e[2]||(e[2]=(0,l.iM)((t=>it.updateCartItem(st.product)),["prevent"])),disabled:0===st.product.qty||"add"===st.isDisabled},[(0,i.wy)((0,i._)("span",C,null,512),[[l.F8,"add"===st.isDisabled]]),N],8,W)])])])]),(0,i._)("div",O,[(0,i._)("div",T,[H,(0,i._)("p",null,(0,a.zw)(st.product.description),1)])]),st.product.placeOne?((0,i.wg)(),(0,i.iD)("div",P,[(0,i._)("div",Y,[F,(0,i._)("ul",K,[(0,i._)("li",M,[(0,i._)("h4",V,(0,a.zw)(st.product.placeOne),1),(0,i._)("p",null,(0,a.zw)(st.product.introOne),1)]),st.product.placeTwo?((0,i.wg)(),(0,i.iD)("li",J,[(0,i._)("h4",Z,(0,a.zw)(st.product.placeTwo),1),(0,i._)("p",null,(0,a.zw)(st.product.introTwo),1)])):(0,i.kq)("",!0)])])])):(0,i.kq)("",!0),E,(0,i._)("div",R,[A,(0,i.Wm)(ct,{"slides-per-view":1,loop:!0,"space-between":50,autoplay:{delay:3e3,disableOnInteraction:!1},speed:1e3,breakpoints:{768:{slidesPerView:3}},modules:et.modules,class:"p-2"},{default:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(st.products,(t=>((0,i.wg)(),(0,i.j4)(lt,{key:t.id},{default:(0,i.w5)((()=>[(0,i._)("div",B,[(0,i._)("div",G,(0,a.zw)(t.category),1),(0,i._)("div",{class:"p-card__image",style:(0,a.j5)({backgroundImage:`url(${t.imageUrl})`})},[(0,i.Wm)(dt,{to:`/product/${t.id}`,class:"hover-area"},{default:(0,i.w5)((()=>[Q])),_:2},1032,["to"])],4),(0,i.Wm)(dt,{to:`/product/${t.id}`,class:"p-card__body text-left"},{default:(0,i.w5)((()=>[(0,i._)("h4",null,(0,a.zw)(t.title),1),(0,i._)("div",X,[(0,i._)("p",tt,(0,a.zw)(t.description),1)])])),_:2},1032,["to"])])])),_:2},1024)))),128))])),_:1},8,["modules"])])])],64)}var st=s(4902),it=s(3181),at=s(8116),lt={data(){return{products:[],product:{qty:0,category:""},id:"",isNew:!0,isLoading:!1,isLoadingItem:"",isDisabled:"",favorite:JSON.parse(localStorage.getItem("favorite"))||[]}},components:{Swiper:it.tq,SwiperSlide:it.o5},setup(){return{modules:[at.W_,at.tl,at.pt]}},inject:["emitter"],methods:{getProduct(){const{id:t}=this.$route.params;this.isLoading=!0,this.$http.get(`https://vue3-course-api.hexschool.io/v2/api/shio-vue/product/${t}`).then((t=>{this.product={...t.data.product,qty:this.product.qty},this.isLoading=!1;const e=`https://vue3-course-api.hexschool.io/v2/api/shio-vue/products?category=${this.product.category}`;this.$http.get(e).then((t=>{this.products=t.data.products})).catch((t=>{this.emitter.emit("push-message",{title:"找不到分類",content:t.response.data.message})}))})).catch((t=>{this.emitter.emit("push-message",{title:"找不到商品qqqqq",content:t.response.data.message})}))},getCart(){this.isLoading=!0,this.$http.get("https://vue3-course-api.hexschool.io/v2/api/shio-vue/cart").then((t=>{this.cartData=t.data.data,this.isLoading=!1})).catch((t=>{this.emitter.emit("push-message",{style:"danger",title:"找不到商品",content:t.response.data.message})}))},updateCartItem(t){const e={product_id:t.id,qty:t.qty};this.isDisabled="add";let s="https://vue3-course-api.hexschool.io/v2/api/shio-vue/cart",i="post";this.isNew||(s=`https://vue3-course-api.hexschool.io/v2/api/shio-vue/cart/${t.id}`,i="put"),this.$http[i](s,{data:e}).then((t=>{this.emitter.emit("push-message",{style:"success",title:"購物提示",content:t.data.message}),this.isDisabled="",st.Z.emit("get-cart")})).catch((t=>{this.emitter.emit("push-message",{style:"danger",title:"無法更新",content:t.response.data.message})}))},toggleFavorite(t){const e=this.favorite.findIndex((e=>e===t));-1===e?(this.favorite.push(t),this.emitter.emit("push-message",{style:"success",title:"已加入收藏"})):(this.favorite.splice(e,1),this.emitter.emit("push-message",{style:"success",title:"已移除收藏"}))}},watch:{favorite:{handler(){localStorage.setItem("favorite",JSON.stringify(this.favorite))},deep:!0},$route(t){this.id=t.params.id,"product"===this.$route.name&&(this.getProduct(),console.log("success"))}},mounted(){this.id=this.$route.params.id,this.getProduct()}},ct=s(3744);const dt=(0,ct.Z)(lt,[["render",et]]);var ot=dt}}]);
//# sourceMappingURL=774.3fc7be95.js.map