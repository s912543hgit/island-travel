"use strict";(self["webpackChunkisland_travel"]=self["webpackChunkisland_travel"]||[]).push([[53],{4053:function(a,e,t){t.r(e),t.d(e,{default:function(){return U}});var s=t(6252);const n={class:"navbar navbar-expand-lg navbar-dark bg-dark"},i={class:"container-fluid"},l=(0,s.Uk)("後台"),o=(0,s._)("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation"},[(0,s._)("span",{class:"navbar-toggler-icon"})],-1),c={class:"collapse navbar-collapse",id:"navbarNav"},r={class:"navbar-nav"},u={class:"nav-item"},d=(0,s.Uk)("前台"),h={class:"nav-item"},v=(0,s.Uk)("產品列表"),k={class:"nav-item"},m=(0,s.Uk)("訂單"),p={class:"nav-item"},g=(0,s.Uk)("圖片上傳"),_={class:"nav-item"},b=(0,s._)("div",null,[(0,s._)("p",null,"圖片上傳")],-1);function f(a,e,t,f,w,$){const x=(0,s.up)("RouterLink"),U=(0,s.up)("RouterView");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("nav",n,[(0,s._)("div",i,[(0,s.Wm)(x,{class:"navbar-brand",to:"/admin"},{default:(0,s.w5)((()=>[l])),_:1}),o,(0,s._)("div",c,[(0,s._)("ul",r,[(0,s._)("li",u,[(0,s.Wm)(x,{class:"nav-link",to:"/"},{default:(0,s.w5)((()=>[d])),_:1})]),(0,s._)("li",h,[(0,s.Wm)(x,{class:"nav-link",to:"/admin/products"},{default:(0,s.w5)((()=>[v])),_:1})]),(0,s._)("li",k,[(0,s.Wm)(x,{class:"nav-link",to:"/admin/orders"},{default:(0,s.w5)((()=>[m])),_:1})]),(0,s._)("li",p,[(0,s.Wm)(x,{class:"nav-link",to:"/admin/image"},{default:(0,s.w5)((()=>[g])),_:1})]),(0,s._)("li",_,[(0,s._)("a",{class:"nav-link",onClick:e[0]||(e[0]=(...a)=>$.logout&&$.logout(...a))},"登出")])])])]),b]),w.checkSuccess?((0,s.wg)(),(0,s.j4)(U,{key:0})):(0,s.kq)("",!0)],64)}var w={data(){return{checkSuccess:!1}},inject:["emitter"],methods:{checkLogin(){const a=document.cookie.replace(/(?:(?:^|.*;\s*)hexToken\s*=\s*([^;]*).*$)|^.*$/,"$1");a?(this.$http.defaults.headers.common.Authorization=`${a}`,this.$http.post("https://vue3-course-api.hexschool.io/v2/api/user/check",{api_token:this.token}).then((a=>{this.checkSuccess=!0})).catch((a=>{this.emitter.emit("push-message",{style:"danger",title:"登入失敗",content:a.response.data.message}),this.$router.push("/login")}))):(this.emitter.emit("push-message",{title:"您尚未登入"}),this.$router.push("/login"))},logout(){document.cookie="hexToken=;expires=;",this.emitter.emit("push-message",{title:"您已經登出"}),this.$router.push("/login")}},mounted(){this.checkLogin()}},$=t(3744);const x=(0,$.Z)(w,[["render",f]]);var U=x}}]);
//# sourceMappingURL=53.fce94632.js.map